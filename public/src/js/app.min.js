var deferredPrompt;const enableNotificationsButtons=document.querySelectorAll(".enable-notifications");function displayConfirmNotification(){const e={body:"You successfuly subscribe to our Notification service!",icon:"/src/images/icons/app-icon-96x96.png",image:"/src/images/sf-boat.jpg",dir:"ltr",lang:"en-US",vibrate:[100,50,200],badge:"/src/images/icons/app-icon-96x96.png",tag:"confirm-notification",renotify:!0,actions:[{action:"confirm",title:"Okay",icon:"/src/images/icons/app-icon-96x96.png"},{action:"cancel",title:"Cancel",icon:"/src/images/icons/app-icon-96x96.png"}]};if("serviceWorker"in navigator)return navigator.serviceWorker.ready.then(i=>{i.showNotification("Successfully subscribed! (From SW)",e)});new Notification("Successfully subscribed!",e)}function configurePushSubscriptions(){let e;navigator.serviceWorker.ready.then(i=>(e=i).pushManager.getSubscription()).then(i=>{null===i&&e.pushManager.subscribe({userVisibleOnly:!0})})}function askForNotificiationPermission(e){Notification.requestPermission(i=>{console.log("User Choice ",i),"granted"===i?(configurePushSubscriptions(),e.target.style.display="none"):console.log("No notification permission granted")})}"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js").then(()=>console.log("sw registered")).catch(i=>console.log("sw error "+i)),window.addEventListener("beforeinstallprompt",function(i){return console.log("beforeinstallprompt fired"),i.preventDefault(),deferredPrompt=i,!1}),"Notification"in window&&"serviceWorker"in navigator&&enableNotificationsButtons.forEach(i=>{i.style.display="inline-block",i.addEventListener("click",askForNotificiationPermission)});